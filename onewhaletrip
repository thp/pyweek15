#!/usr/bin/env python
"""
Usage: main [(-l <level> | -s <scene>)] [-f] [-d]

Options:
    -l, --level <level>  start with level x
    -s, --scene <scene>  start with scene x
    -f, --fullscreen
    -d, --debug
"""

import pygame
import sys
import os

sys.path.insert(0, os.path.join(os.path.dirname(__file__), 'src'))
sys.path.insert(0, os.path.join(os.path.dirname(__file__), '..', 'src'))

from engine.app import App
from scenes.game import Game
from scenes.intermissions import Start, Intro, GameOver, Outro, Victory
from scenes.cutscene import CutScene

from docopt import docopt
arguments = docopt(__doc__)

TITLE = "One Whale Trip"
SCREEN_WIDTH = 800
SCREEN_HEIGHT = 480

SCENES = [
    Start,
    Intro,
    Game,
    GameOver,
    CutScene,
    Victory,
    Outro,
]


pygame.init()

app = App(TITLE, SCREEN_WIDTH, SCREEN_HEIGHT, arguments['--fullscreen'],
          scenes=SCENES,
          entry=arguments['--scene'] or "Start",
          level_nr=arguments['--level'] or 0,
          debug=arguments['--debug'],
          )

app.run()
pygame.quit()
